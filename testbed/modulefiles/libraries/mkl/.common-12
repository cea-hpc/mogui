#%Module1.0

# Software description
module-whatis   "Intel MKL Library"
set software    "mkl"
set description "Intel Math Kernel Library"
set html        "http://www.intel.com/"

# should have same version as
set warnsameversionlst "c/intel c++/intel fortran/intel idb"

# Conflict
conflict        "$software"

# Loads software's environment
prepend-path LD_LIBRARY_PATH "$mklroot/lib/intel64"

setenv MKLROOT         "$mklroot"
setenv MKL_INC_DIR     "$mklroot/include"
setenv MKL_LIB_DIR     "$mklroot/lib/intel64"
setenv MKL_LIBS        "-L$mklroot/lib/intel64 -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lm"
setenv MKL_LIBS_MT     "-L$mklroot/lib/intel64 -lmkl_rt -liomp5 -lm"
setenv MKL_SCA_LIBS    "-L$mklroot/lib/intel64 -lmkl_intel_lp64 -lmkl_sequential -lmkl_scalapack_lp64 -lmkl_core -lmkl_blacs_openmpi_lp64 -lm"
setenv MKL_SCA_LIBS_MT "-L$mklroot/lib/intel64 -lmkl_rt -lmkl_scalapack_lp64 -lmkl_blacs_openmpi_lp64 -liomp5 -lm"

# load common functions and behavior
source $env(MODULEPATH)/.common

