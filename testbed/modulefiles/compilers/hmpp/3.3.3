#%Module1.0

# Software description
module-whatis   "Hybrid Multicore Parallel Programming"
set software    "hmpp"
set version     "3.3.3"
set description "A complete hybrid compiler with powerful data-parallel code generators"
set html        "http://www.caps-entreprise.com/hmpp.html"

# Conflict
conflict        "$software"

# Loads software's environment
set prefix      "/usr/local/$software-$version"

prepend-path    PATH                    "$prefix/bin"
prepend-path    LD_LIBRARY_PATH         "$prefix/lib"
prepend-path    HMPP_ACCELERATOR_PATH   "$prefix/lib/"
# Recuperation du nom de la machine
set hostname $::env(HOSTNAME)
if {[string compare -length 4 $hostname "inti"]==0} {
    prepend-path    CAPS_LICENSE_PATH       "6200@dns-server.c-inti.ocre.cea.fr"
}
if {[string compare -length 6 $hostname "cirrus"]==0} {
    prepend-path    CAPS_LICENSE_PATH       "6200@cws-cirrus.c-cirrus.ocre.cea.fr"
}

setenv          HMPP_WORKBENCH_HOME     "$prefix"

# load common functions and behavior
source $env(MODULEPATH)/.common

